Uluru.prototype.showMaterialList=function(){this.logMessage("SHOW MATERIAL LIST"),$(".screen.material").addClass("visible")},Uluru.prototype.hideMaterialList=function(){this.logMessage("HIDE NEW CARD FORM"),$(".screen.material").removeClass("visible")},Uluru.prototype.loadMaterialList=function(e){this.logMessage("LOAD MATERIAL LIST");var t=function(){this.showLoading()}.bind(this),i=function(e){this.logMessage(e),this.hideLoading(),"OK"===e.status?e.result&&e.result.length>0?this.renderMaterialList(e.result):$("#list_materiel").html("Aucun matériel trouvé"):(this.logError(e.message),notification.create({title:"Erreur",content:e.message}))}.bind(this),a=!1;e&&(a="search="+e),this.apiRequest("GET","materiel","list",a,t,i,!1)},Uluru.prototype.renderMaterialList=function(e){this.logMessage("RENDER MATERIAL LIST");$("#list_materiel").empty(),e.forEach(function(e){var t="<div class='item row'>";t+="<div class='cell'>"+e.fabricant+"</div>",t+="<div class='cell'>"+e.type+"</div>",t+="<div class='cell'>"+e.modele+"</div>",t+="<div class='cell'>"+e.ean+"</div>",t+="</div>",$("#list_materiel").append(t)}.bind(this))},Uluru.prototype.recordMaterial=function(){this.logMessage("RECORD MATERIAL");var e=$("#new_material_form").serialize(),t=function(){this.showLoading()}.bind(this),i=function(e){this.logMessage(e),this.hideLoading(),"OK"===e.status?(notification.create({title:"Matériel créé",content:e.result.fabricant+" "+e.result.modele,icon:"check.svg",delay:2e3}),$("#new_material_form input[name=fabricant]").val(""),$("#new_material_form input[name=modele]").val(""),$("#new_material_form input[name=ean]").val(""),this.showScreen("material"),this.loadMaterialList()):(this.logError(e.message),notification.create({title:"Erreur",content:e.message,icon:"error.svg"}))}.bind(this);this.apiRequest("GET","materiel","create",e,t,i,!1)};