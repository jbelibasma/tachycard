class Stent{constructor(){var t=document.getElementById("canvas"),s=document.getElementById("overlay"),e=t.getContext("2d"),i=s.getContext("2d");this.ctx=this.setStyleContext(e),this.ctxo=this.setStyleContext(i),this.$canvas=$("#canvas"),this.canvasOffset=this.$canvas.offset(),this.offsetX=this.canvasOffset.left,this.offsetY=this.canvasOffset.top,this.scrollX=this.$canvas.scrollLeft(),this.scrollY=this.$canvas.scrollTop(),this.isDown=!1,this.startX,this.startY,this.prevStartX=0,this.prevStartY=0,this.prevWidth=0,this.prevHeight=0,this.setEvent()}setStyleContext(t){return t.strokeStyle="blue",t.lineWidth=3,t}handleMouseMove(t){if(t.preventDefault(),t.stopPropagation(),!this.isDown)return;let s=parseInt(t.clientX-this.offsetX),e=parseInt(t.clientY-this.offsetY);var i=s-this.startX,a=e-this.startY;ctx.clearRect(0,0,canvas.width,canvas.height),ctx.strokeRect(this.startX,this.startY,i,a),this.prevStartX=this.startX,this.prevStartY=this.startY,this.prevWidth=i,this.prevHeight=a}handleMouseDown(t){t.preventDefault(),t.stopPropagation(),this.startX=parseInt(t.clientX-this.offsetX),this.startY=parseInt(t.clientY-this.offsetY),this.isDown=!0}handleMouseUp(t){t.preventDefault(),t.stopPropagation(),this.isDown=!1,ctxo.strokeRect(this.prevStartX,this.prevStartY,this.prevWidth,this.prevHeight)}handleMouseOut(t){t.preventDefault(),t.stopPropagation(),this.isDown=!1}setEvent(){$("#canvas").mousedown(function(t){this.handleMouseDown(t)}),$("#canvas").mousemove(function(t){this.handleMouseMove(t)}),$("#canvas").mouseup(function(t){this.handleMouseUp(t)}),$("#canvas").mouseout(function(t){this.handleMouseOut(t)})}}